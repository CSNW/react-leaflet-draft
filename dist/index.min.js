"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DraftControl=void 0;var _leaflet=_interopRequireDefault(require("leaflet")),_react=_interopRequireDefault(require("react")),_core=require("@react-leaflet/core");require("leaflet-draw");var _factory=require("./factory");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var DraftControl=_react.default.memo((0,_core.createControlComponent)((function(e){var r=(0,_core.useLeafletContext)(),t=_react.default.useCallback((function(t){var a=e.onCreated,o=e.limitLayers,n=r.layerContainer||r.map,l=t.layer;n.getLayers().length+1>o?a({error:{layer:"limit reached"}}):(n.addLayer(l),a&&a(t))}),[]);return _react.default.useEffect((function(){_.mapObject(e,(function(e,t){if(t.startsWith("on")&&"onCreated"!==t){var a="draw:".concat(t.substring(2).toLowerCase());r.map.on(a,e)}}))}),[]),_react.default.useEffect((function(){r.map.on(_leaflet.default.Draw.Event.CREATED,t)}),[]),(0,_factory.createControlDraw)(e,r)})));exports.DraftControl=DraftControl;